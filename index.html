<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ring Media Player Prototype</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />

  <!-- Example Telecommunication-inspired Font -->
  <style>
    @font-face {
      font-family: 'Wavehaus42Light';
      src: url('fonts/Wavehaus-42Light.otf') format('opentype');
      font-weight: 400;
      font-style: normal;
    }
  </style>

  <style>
    body {
      margin: 0;
      padding: 0;
      background: #f5f5f5;
      font-family: 'Wavehaus42Light', Arial, sans-serif;
      display: flex;
      flex-direction: column;
      height: 100vh;
      justify-content: center;
      align-items: center;
    }

    /* RING MEDIA PLAYER CONTAINER */
    #ring-player {
      position: relative;
      width: 280px;
      height: 280px;
      border-radius: 50%;
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* The ring background (optional decorative ring) */
    #outer-ring {
      position: absolute;
      width: 100%;
      height: 100%;
      border: 3px solid #999;
      border-radius: 50%;
    }

    /* The center circle (optional decorative circle) */
    #inner-circle {
      position: absolute;
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: #222;
      border: 2px solid #444;
      z-index: 2;
    }

    /* Buttons/Elements arranged around the ring
       We position them via transform around the center. */
    .ring-btn {
      position: absolute;
      width: 60px;
      height: 60px;
      background: #fff;
      color: #000;
      border: 2px solid #000;
      border-radius: 50%;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 3;
    }

    /* We set each ring-btn’s transform so they’re spaced around a circle.
       Example angles for 4 items: 0°, 90°, 180°, 270°, etc.
       Adjust as you wish for a pleasing arrangement. */

    /* Rewind (top) */
    #rewind-btn {
      transform: translate(-50%, -50%) rotate(0deg) translate(100px) rotate(-0deg);
      top: 50%;
      left: 50%;
    }
    /* Play/Pause (right) */
    #play-pause {
      transform: translate(-50%, -50%) rotate(90deg) translate(100px) rotate(-90deg);
      top: 50%;
      left: 50%;
    }
    /* Timer (bottom) */
    #timerDisplay {
      transform: translate(-50%, -50%) rotate(180deg) translate(100px) rotate(-180deg);
      top: 50%;
      left: 50%;
      text-align: center;
      line-height: 18px; /* for multi-line text if needed */
      padding: 3px;
    }
    /* Blinking LED (left) */
    #live-led {
      transform: translate(-50%, -50%) rotate(270deg) translate(100px) rotate(-270deg);
      top: 50%;
      left: 50%;
      width: 18px;
      height: 18px;
      border: 2px solid #900;
      background: #400;
    }

    /* BLINKING LED: animate only when playing */
    .blinking {
      animation: blink 0.8s infinite alternate;
    }
    @keyframes blink {
      0% { background: #900; }
      100% { background: #400; }
    }

    /* Because we used rotate for the ring layout, we rotate back inside for text
       by reversing the transforms. If you'd like to keep them upright,
       use "rotate(-90deg)" inside each item or adjust your angles. */

    /* MEDIA PLAYER ACCESSORIES: Hide background ring on mobile if you want to go minimal */
    @media(max-width: 600px) {
      #ring-player {
        width: 220px;
        height: 220px;
      }
      #outer-ring {
        border: 2px solid #999;
      }
      /* Adjust transforms so items fit smaller ring */
      #rewind-btn {
        transform: translate(-50%, -50%) rotate(0deg) translate(80px) rotate(-0deg);
      }
      #play-pause {
        transform: translate(-50%, -50%) rotate(90deg) translate(80px) rotate(-90deg);
      }
      #timerDisplay {
        transform: translate(-50%, -50%) rotate(180deg) translate(80px) rotate(-180deg);
      }
      #live-led {
        transform: translate(-50%, -50%) rotate(270deg) translate(80px) rotate(-270deg);
      }
    }
  </style>
</head>
<body>

  <!-- RING MEDIA PLAYER -->
  <div id="ring-player">
    <!-- Outer ring (optional) -->
    <div id="outer-ring"></div>
    <!-- Center circle (optional) -->
    <div id="inner-circle"></div>

    <!-- Rewind Button -->
    <button class="ring-btn" id="rewind-btn">-10s</button>

    <!-- Play/Pause -->
    <button class="ring-btn" id="play-pause">Play</button>

    <!-- Timer -->
    <div class="ring-btn" id="timerDisplay">00:00:00:000</div>

    <!-- Blinking LED -->
    <div id="live-led"></div>
  </div>

  <!-- Hidden Audio Element -->
  <audio id="my-audio" src="assets/NMTAH_Side_A.m4a"></audio>

  <script>
    // Grab references
    const audioEl = document.getElementById('my-audio');
    const playPauseBtn = document.getElementById('play-pause');
    const rewindBtn = document.getElementById('rewind-btn');
    const timerDisplay = document.getElementById('timerDisplay');
    const liveLed = document.getElementById('live-led');

    // PLAY/PAUSE
    playPauseBtn.addEventListener('click', () => {
      if (audioEl.paused) {
        audioEl.play().then(() => {
          playPauseBtn.textContent = "Pause";
          liveLed.classList.add('blinking'); // LED on
        }).catch(err => console.warn("audio.play() failed:", err));
      } else {
        audioEl.pause();
        playPauseBtn.textContent = "Play";
        liveLed.classList.remove('blinking'); // LED off
      }
    });

    // REWIND -10s
    rewindBtn.addEventListener('click', () => {
      audioEl.currentTime = Math.max(0, audioEl.currentTime - 10);
      updateTimer();
    });

    // TIMER
    function updateTimer() {
      let t = audioEl.currentTime;
      let hrs = Math.floor(t / 3600);
      let mins = Math.floor((t % 3600) / 60);
      let secs = Math.floor(t % 60);
      let ms = Math.floor((t % 1) * 1000);
      const pad = (num, size) => String(num).padStart(size, '0');
      timerDisplay.textContent = `${pad(hrs,2)}:${pad(mins,2)}:${pad(secs,2)}:${pad(ms,3)}`;
    }
    setInterval(updateTimer, 100);

    // If user ends or track completes => LED off + "Play" label
    audioEl.addEventListener('ended', () => {
      playPauseBtn.textContent = "Play";
      liveLed.classList.remove('blinking');
    });
    // If the user scrubs or track is paused => LED off
    audioEl.addEventListener('pause', () => {
      playPauseBtn.textContent = "Play";
      liveLed.classList.remove('blinking');
    });
  </script>

</body>
</html>
